<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú de cafetería</title>
</head>

<body>
    <h1>Menú de cafetería</h1>
    <!--- Crear 3 secciones (Café, Bocadillo, bebida)
para cada sección: crear 3 botones (
    - Agregar 1 al carrito, 
    - Agregar 2 al carrito, 
    - Agregar 3 al carrito)

    Agregar un botón al final para ver total de Items.
    Agregar un botón para vaciar el carrito. --->

    <section id="cafe">
        <h2>Café</h2>
        <button class="btn " data-cant="1" data-tipo="cafe">1 café</button>
        <button class="btn " data-cant="2" data-tipo="cafe">2 cafés</button>
        <button class="btn " data-cant="3" data-tipo="cafe">3 cafés</button>
    </section>

    <section id="bocadillo">
        <h2>Bocadillo</h2>
        <button class="btn " data-cant="1" data-tipo="boca">1 bocadillo</button>
        <button class="btn " data-cant="2" data-tipo="boca">2 bocadillos</button>
        <button class="btn " data-cant="3" data-tipo="boca">3 bocadillos</button>
    </section>

    <section id="bebida">
        <h2>Bebida</h2>
        <button class="btn " data-cant="1" data-tipo="bebida">1 bebida</button>
        <button class="btn " data-cant="2" data-tipo="bebida">2 bebidas</button>
        <button class="btn " data-cant="3" data-tipo="bebida">3 bebidas</button>
    </section>
    <br>
    <br>
    <div>
        <button class="btn " id="btn-total">Total</button>
        <button class="btn " id="btn-vaciar">Vacíar</button>
    </div>

    <div id="resultado"></div>

    <script>
        const listaBotones = document.querySelectorAll(".btn");

        listaBotones.forEach( btn =>{
            btn.addEventListener("click", AgregarCarrito);
        })

        const btnTotal = document.querySelector("#btn-total");
        const btnVaciar = document.querySelector("btn-vaciar");
        const resultado = document.getElementById("resultado");

        
        //btnTotal.addEventListener("Click", MostrarTotal);
        btnVaciar.addEventListener("click", BorrarCarrito);

        let totalItems = 0;
        let cantCafe = 0;
        let cantBoca = 0;
        let cantBebi = 0;

        // Función para agregar al carrito.
        function AgregarCarrito(cant, tipo) {

            const item = e.target;
            console.log(item);
            console.log("Agregando cantidad", cant);

            const cant = parseInt(item.getAttribute("data-cant"));
            const tipo = item.getAttribute("data-tipo");

            switch(tipo){
                case "cafe": cantCafe+=cant; break;
                case "boca": cantBoca+=cant; break;
                case "bebida": cantBebi+=cant; break;
            }
            totalItems += cant;
            MostrarTotal();
            
        }

        // Función para mostrar totales.
        function MostrarTotal() {
            resultado.innerHTML=`<ul>
                                    <li>Café: ${cantCafe}</li>
                                    <li>Bocadillos: ${cantBoca}</li>
                                    <li>Bebidas 0: ${cantBebi}</li>
                                </ul>
        Total: ${totalItems};
        `}

        // Función para borrar el carrito.
        function BorrarCarrito() {
            totalItems = 0;
            cantCafe = 0;
            cantBoca = 0;
            cantBebi = 0;
        MostrarTotal();
        }
    
    </script>
</body>

</html>